{"file":"index-g3rBfIZC.js","mappings":";;;;;;;;;;;;;;;;;;;;AAiDA,UAAM,EAAE,UAAU,QAAQ,OAAwB,IAAI,YAAA;AACtD,UAAM,IAAI,IAAI,EAAE;AAChB,UAAM,WAAW,SAAS,MAAM;AAC9B,YAAM,IAAI,EAAE,MAAM,KAAA,EAAO,YAAA;AACzB,aAAO,SAAS,MAAM,OAAO,CAAA,MAAK;AAChC,cAAM,OAAO,GAAG,EAAE,IAAI,IAAI,EAAE,OAAO,IAAI,EAAE,KAAK,GAAG,YAAA;AACjD,eAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAAA,MAC9B,CAAC;AAAA,IACH,CAAC;AASD,UAAM,aAAa,IAAI,KAAK;AAC5B,UAAM,WAAW,IAAI,KAAK;AAC1B,UAAM,SAAS,IAAmB,IAAI;AACtC,QAAI,cAAc,SAAuB;AAAA,MACvC,MAAM;AAAA,MACN,SAAS;AAAA,MACT,OAAO;AAAA,MACP,OAAO;AAAA,MACP,+BAAc,KAAA,GAAO,cAAc,MAAM,GAAG,EAAE;AAAA,MAC9C,SAAS;AAAA,IAAA,CACV;AACD,QAAI,YAAY,SAAuB;AAAA,MACrC,MAAM;AAAA,MACN,SAAS;AAAA,MACT,OAAO;AAAA,MACP,OAAO;AAAA,MACP,+BAAc,KAAA,GAAO,cAAc,MAAM,GAAG,EAAE;AAAA,MAC9C,SAAS;AAAA,IAAA,CACV;AAgBD,aAAS,aAAa;AACpB,iBAAW,QAAQ;AACnB,eAAS,QAAQ;AAAA,IACnB;AACA,aAAS,eAAe,GAAiB;AACvC,aAAO,OAAO,aAAa,CAAC;AAAA,IAC9B;AACA,aAAS,aAAa,GAAiB;AACrC,aAAO,OAAO,WAAW,CAAC;AAAA,IAC5B;AACA,aAAS,eAAe;AACtB,aAAO,EAAE,GAAG,aAAa;AACzB,iBAAA;AAAA,IACF;AACA,aAAS,eAAe;AACtB,UAAI,CAAC,OAAO,MAAO;AACnB,aAAO,OAAO,OAAO,EAAE,GAAG,WAAW;AACrC,iBAAA;AAAA,IACF;AAIA,aAAS,WAAW,GAAW;AAC7B,aAAO,IAAI,KAAK,CAAC,EAAE,mBAAA;AAAA,IACrB;;uBA3HWA,eAAAC,WAAA,EAAA,OAAM,UAAM,MAAA,CAAA,uDAED,EAAA,KAAC;AAgBCC,oBAAA,SAAA,QAAL,MAAC;yBACHC,eAAA,EAAE,IAAI,aACNA,eAAA,EAAE,OAAO,aACTA,eAAA,EAAE,KAAK,aACPA,eAAA,EAAE,KAAK,4BACP,WAAW,EAAE,QAAQ,CAAA;;;AAMpB,UAAA,SAAA,MAAS,WAAM,GAAA;;;;;;;QAKrB,MAAM,WAAA;AAAA,QAAY,OAAM;AAAA,QAAe,SAAO;AAAA,MAAA;yBAAtD,CAEQ,GAAAC,QAAAC,UAAA,aAAA;;;cADQ,eAAaC,MAAA,WAAA;AAAA,cAAc,uBAAoB;AAAA,cAAiB,UAAQ;AAAA,cAAe,UAAQ;AAAA,YAAA;;;cAA7GC,YAA2HC,aAAA;AAAA,gBAA7G,eAAaF,MAAA,WAAA;AAAA,gBAAc,uBAAoB;AAAA,gBAAiB,UAAQ;AAAA,gBAAe,UAAQ;AAAA,cAAA;;;;;;;QAEvG,MAAM,SAAA;AAAA,QAAU,OAAM;AAAA,QAAgB,SAAO;AAAA,MAAA;yBAArD,CAEQ,GAAAF,QAAAC,UAAA,aAAA;;;cADQ,eAAaC,MAAA,SAAA;AAAA,cAAY,uBAAoB;AAAA,cAAe,UAAQ;AAAA,cAAe,UAAQ;AAAA,YAAA;;;cAAzGC,YAAuHC,aAAA;AAAA,gBAAzG,eAAaF,MAAA,SAAA;AAAA,gBAAY,uBAAoB;AAAA,gBAAe,UAAQ;AAAA,gBAAe,UAAQ;AAAA,cAAA;;;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_push","_parent","_unref","_createVNode","TeacherForm"],"sources":["../../../../pages/teachers/index.vue"],"sourcesContent":["<template>\n  <section class=\"card\">\n    <div class=\"toolbar\">\n      <input v-model=\"q\" class=\"input\" placeholder=\"Search name, subject or email\" />\n      <div class=\"spacer\"></div>\n      <button class=\"btn\" @click=\"openCreate\">Add Teacher</button>\n    </div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Subject</th>\n          <th>Phone</th>\n          <th>Email</th>\n          <th>Hire Date</th>\n          <th class=\"actions\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"t in filtered\" :key=\"t.id\">\n          <td>{{ t.name }}</td>\n          <td>{{ t.subject }}</td>\n          <td>{{ t.phone }}</td>\n          <td>{{ t.email }}</td>\n          <td>{{ formatDate(t.hireDate) }}</td>\n          <td class=\"actions\">\n            <button class=\"btn secondary\" @click=\"openEdit(t.id)\">Edit</button>\n            <button class=\"btn danger\" @click=\"handleDelete(t.id)\">Delete</button>\n          </td>\n        </tr>\n        <tr v-if=\"filtered.length === 0\">\n          <td colspan=\"6\" class=\"muted\">No teachers found</td>\n        </tr>\n      </tbody>\n    </table>\n    <Popup :open=\"showCreate\" title=\"Add Teacher\" @close=\"closeModal\">\n      <TeacherForm :model-value=\"createModel\" @update:model-value=\"onUpdateCreate\" @submit=\"handleCreate\" @cancel=\"closeModal\" />\n    </Popup>\n    <Popup :open=\"showEdit\" title=\"Edit Teacher\" @close=\"closeModal\">\n      <TeacherForm :model-value=\"editModel\" @update:model-value=\"onUpdateEdit\" @submit=\"handleUpdate\" @cancel=\"closeModal\" />\n    </Popup>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, reactive } from 'vue'\nimport Popup from '~/components/Popup.vue'\nimport TeacherForm from '~/components/TeacherForm.vue'\nimport { useTeachers } from '~/composables/useTeachers'\nconst { teachers, create, update, remove, getById } = useTeachers()\nconst q = ref('')\nconst filtered = computed(() => {\n  const v = q.value.trim().toLowerCase()\n  return teachers.value.filter(t => {\n    const text = `${t.name} ${t.subject} ${t.email}`.toLowerCase()\n    return !v || text.includes(v)\n  })\n})\ntype TeacherModel = {\n  name: string\n  subject: string\n  phone: string\n  email: string\n  hireDate: string\n  address: string\n}\nconst showCreate = ref(false)\nconst showEdit = ref(false)\nconst editId = ref<string | null>(null)\nlet createModel = reactive<TeacherModel>({\n  name: '',\n  subject: 'Mathematics',\n  phone: '',\n  email: '',\n  hireDate: new Date().toISOString().slice(0, 10),\n  address: ''\n})\nlet editModel = reactive<TeacherModel>({\n  name: '',\n  subject: 'Mathematics',\n  phone: '',\n  email: '',\n  hireDate: new Date().toISOString().slice(0, 10),\n  address: ''\n})\nfunction openCreate() {\n  showCreate.value = true\n}\nfunction openEdit(id: string) {\n  const t = getById(id)\n  if (!t) return\n  editId.value = id\n  editModel.name = t.name\n  editModel.subject = t.subject\n  editModel.phone = t.phone\n  editModel.email = t.email\n  editModel.hireDate = t.hireDate.slice(0, 10)\n  editModel.address = t.address\n  showEdit.value = true\n}\nfunction closeModal() {\n  showCreate.value = false\n  showEdit.value = false\n}\nfunction onUpdateCreate(v: TeacherModel) {\n  Object.assign(createModel, v)\n}\nfunction onUpdateEdit(v: TeacherModel) {\n  Object.assign(editModel, v)\n}\nfunction handleCreate() {\n  create({ ...createModel })\n  closeModal()\n}\nfunction handleUpdate() {\n  if (!editId.value) return\n  update(editId.value, { ...editModel })\n  closeModal()\n}\nfunction handleDelete(id: string) {\n  remove(id)\n}\nfunction formatDate(d: string) {\n  return new Date(d).toLocaleDateString()\n}\n</script>\n"],"version":3}