{"version":3,"file":"_id_-CA9KLfnx.js","sources":["../../../../pages/classes/[id].vue"],"sourcesContent":["<template>\n  <Popup v-if=\"klass\" :open=\"open\" title=\"Edit Class\" @close=\"handleClose\">\n    <ClassForm :model-value=\"model\" @update:model-value=\"onUpdate\" @submit=\"handleUpdate\" @cancel=\"handleClose\" />\n  </Popup>\n  <section class=\"card\" v-else>\n    <div class=\"muted\">Class not found</div>\n    <div class=\"toolbar\"><NuxtLink to=\"/classes\" class=\"btn\">Back</NuxtLink></div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRoute } from 'vue-router'\nimport { computed, reactive, ref, watch } from 'vue'\nimport Popup from '~/components/Popup.vue'\nimport ClassForm from '~/components/ClassForm.vue'\nimport { useClasses } from '~/composables/useClasses'\nimport { navigateTo } from 'nuxt/app'\nconst route = useRoute()\nconst id = route.params.id as string\nconst { getById, update } = useClasses()\nconst klass = computed(() => getById(id))\nconst open = ref(true)\ntype ClassModel = { name: string; grade: string; section: string; teacher: string; room: string }\nlet model = reactive<ClassModel>({\n  name: klass.value?.name || '',\n  grade: klass.value?.grade || 'Grade 1',\n  section: klass.value?.section || 'Red',\n  teacher: klass.value?.teacher || '',\n  room: klass.value?.room || ''\n})\nfunction onUpdate(v: ClassModel) { Object.assign(model, v) }\nwatch(klass, c => { if (!c) return; model.name = c.name; model.grade = c.grade; model.section = c.section; model.teacher = c.teacher; model.room = c.room }, { immediate: true })\nfunction handleUpdate() { update(id, { ...model }); navigateTo('/classes') }\nfunction handleClose() { navigateTo('/classes') }\n</script>\n"],"names":["_push","_parent","_unref","_createVNode","ClassForm","_ssrRenderAttrs","_mergeProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAiBA,UAAM,QAAQ,SAAA;AACd,UAAM,KAAK,MAAM,OAAO;AACxB,UAAM,EAAE,SAAS,OAAA,IAAW,WAAA;AAC5B,UAAM,QAAQ,SAAS,MAAM,QAAQ,EAAE,CAAC;AACxC,UAAM,OAAO,IAAI,IAAI;AAErB,QAAI,QAAQ,SAAqB;AAAA,MAC/B,MAAM,MAAM,OAAO,QAAQ;AAAA,MAC3B,OAAO,MAAM,OAAO,SAAS;AAAA,MAC7B,SAAS,MAAM,OAAO,WAAW;AAAA,MACjC,SAAS,MAAM,OAAO,WAAW;AAAA,MACjC,MAAM,MAAM,OAAO,QAAQ;AAAA,IAAA,CAC5B;AACD,aAAS,SAAS,GAAe;AAAE,aAAO,OAAO,OAAO,CAAC;AAAA,IAAE;AAC3D,UAAM,OAAO,CAAA,MAAK;AAAE,UAAI,CAAC,EAAG;AAAQ,YAAM,OAAO,EAAE;AAAM,YAAM,QAAQ,EAAE;AAAO,YAAM,UAAU,EAAE;AAAS,YAAM,UAAU,EAAE;AAAS,YAAM,OAAO,EAAE;AAAA,IAAK,GAAG,EAAE,WAAW,MAAM;AAChL,aAAS,eAAe;AAAE,aAAO,IAAI,EAAE,GAAG,OAAO;AAAG,iBAAW,UAAU;AAAA,IAAE;AAC3E,aAAS,cAAc;AAAE,iBAAW,UAAU;AAAA,IAAE;;;UAhCjC,MAAA,OAAK;;UAAG,MAAM,KAAA;AAAA,UAAM,OAAM;AAAA,UAAc,SAAO;AAAA,QAAA;2BAA5D,CAEQ,GAAAA,QAAAC,UAAA,aAAA;;;gBADM,eAAaC,MAAA,KAAA;AAAA,gBAAQ,uBAAoB;AAAA,gBAAW,UAAQ;AAAA,gBAAe,UAAQ;AAAA,cAAA;;;gBAA/FC,YAA8GC,aAAA;AAAA,kBAAlG,eAAaF,MAAA,KAAA;AAAA,kBAAQ,uBAAoB;AAAA,kBAAW,UAAQ;AAAA,kBAAe,UAAQ;AAAA,gBAAA;;;;;;;AAExF,cAAA,WAAAG,eAAAC,WAAA,EAAA,OAAM,UAAM,MAAA,CAAA,CAAA,gEAAA;;UAEY,IAAG;AAAA,UAAW,OAAM;AAAA,QAAA;2BAA9B,CAAmD,GAAAN,QAAAC,UAAA,aAAA;;;;;gCAAf,MAAI;AAAA,cAAA;AAAA;;;;;;;;;;;;;;;"}