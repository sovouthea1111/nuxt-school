{"file":"_id_-DT2UNB84.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAiBA,UAAM,QAAQ,SAAA;AACd,UAAM,KAAK,MAAM,OAAO;AACxB,UAAM,EAAE,SAAS,OAAA,IAAW,YAAA;AAC5B,UAAM,UAAU,SAAS,MAAM,QAAQ,EAAE,CAAC;AAC1C,UAAM,OAAO,IAAI,IAAI;AASrB,QAAI,QAAQ,SAAuB;AAAA,MACjC,MAAM,QAAQ,OAAO,QAAQ;AAAA,MAC7B,SAAS,QAAQ,OAAO,WAAW;AAAA,MACnC,OAAO,QAAQ,OAAO,SAAS;AAAA,MAC/B,OAAO,QAAQ,OAAO,SAAS;AAAA,MAC/B,WAAW,QAAQ,OAAO,iCAAgB,KAAA,GAAO,YAAA,EAAc,MAAM,GAAG,EAAE,GAAG,MAAM,GAAE,EAAE;AAAA,MACvF,SAAS,QAAQ,OAAO,WAAW;AAAA,IAAA,CACpC;AACD,aAAS,SAAS,GAAiB;AACjC,aAAO,OAAO,OAAO,CAAC;AAAA,IACxB;AACA,UAAM,SAAS,CAAA,MAAK;AAClB,UAAI,CAAC,EAAG;AACR,YAAM,OAAO,EAAE;AACf,YAAM,UAAU,EAAE;AAClB,YAAM,QAAQ,EAAE;AAChB,YAAM,QAAQ,EAAE;AAChB,YAAM,WAAW,EAAE,SAAS,MAAM,GAAE,EAAE;AACtC,YAAM,UAAU,EAAE;AAAA,IACpB,GAAG,EAAE,WAAW,MAAM;AACtB,aAAS,eAAe;AACtB,aAAO,IAAI,EAAE,GAAG,OAAO;AACvB,iBAAW,WAAW;AAAA,IACxB;AACA,aAAS,cAAc;AACrB,iBAAW,WAAW;AAAA,IACxB;;;UAvDe,QAAA,OAAO;;UAAG,MAAM,KAAA;AAAA,UAAM,OAAM;AAAA,UAAgB,SAAO;AAAA,QAAA;2BAAhE,CAEQ,GAAAA,QAAAC,UAAA,aAAA;;;gBADQ,eAAaC,MAAA,KAAA;AAAA,gBAAQ,uBAAoB;AAAA,gBAAW,UAAQ;AAAA,gBAAe,UAAQ;AAAA,cAAA;;;gBAAjGC,YAAgHC,aAAA;AAAA,kBAAlG,eAAaF,MAAA,KAAA;AAAA,kBAAQ,uBAAoB;AAAA,kBAAW,UAAQ;AAAA,kBAAe,UAAQ;AAAA,gBAAA;;;;;;;AAE1F,cAAA,WAAAG,eAAAC,WAAA,EAAA,OAAM,UAAM,MAAA,CAAA,CAAA,kEAAA;;UAEY,IAAG;AAAA,UAAY,OAAM;AAAA,QAAA;2BAA/B,CAAoD,GAAAN,QAAAC,UAAA,aAAA;;;;;gCAAf,MAAI;AAAA,cAAA;AAAA;;;;;;;;;;;;;;;","names":["_push","_parent","_unref","_createVNode","TeacherForm","_ssrRenderAttrs","_mergeProps"],"sources":["../../../../pages/teachers/edit/[id].vue"],"sourcesContent":["<template>\n  <Popup v-if=\"teacher\" :open=\"open\" title=\"Edit Teacher\" @close=\"handleClose\">\n    <TeacherForm :model-value=\"model\" @update:model-value=\"onUpdate\" @submit=\"handleUpdate\" @cancel=\"handleClose\" />\n  </Popup>\n  <section class=\"card\" v-else>\n    <div class=\"muted\">Teacher not found</div>\n    <div class=\"toolbar\"><NuxtLink to=\"/teachers\" class=\"btn\">Back</NuxtLink></div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRoute } from 'vue-router'\nimport { computed, reactive, ref, watch } from 'vue'\nimport Popup from '~/components/Popup.vue'\nimport TeacherForm from '~/components/TeacherForm.vue'\nimport { useTeachers } from '~/composables/useTeachers'\nimport { navigateTo } from 'nuxt/app'\nconst route = useRoute()\nconst id = route.params.id as string\nconst { getById, update } = useTeachers()\nconst teacher = computed(() => getById(id))\nconst open = ref(true)\ntype TeacherModel = {\n  name: string\n  subject: string\n  phone: string\n  email: string\n  hireDate: string\n  address: string\n}\nlet model = reactive<TeacherModel>({\n  name: teacher.value?.name || '',\n  subject: teacher.value?.subject || 'Mathematics',\n  phone: teacher.value?.phone || '',\n  email: teacher.value?.email || '',\n  hireDate: (teacher.value?.hireDate || new Date().toISOString().slice(0, 10)).slice(0,10),\n  address: teacher.value?.address || ''\n})\nfunction onUpdate(v: TeacherModel) {\n  Object.assign(model, v)\n}\nwatch(teacher, t => {\n  if (!t) return\n  model.name = t.name\n  model.subject = t.subject\n  model.phone = t.phone\n  model.email = t.email\n  model.hireDate = t.hireDate.slice(0,10)\n  model.address = t.address\n}, { immediate: true })\nfunction handleUpdate() {\n  update(id, { ...model })\n  navigateTo('/teachers')\n}\nfunction handleClose() {\n  navigateTo('/teachers')\n}\n</script>\n"],"version":3}