{"file":"_id_-Bi9AR7cu.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAiBA,UAAM,QAAQ,SAAA;AACd,UAAM,KAAK,MAAM,OAAO;AACxB,UAAM,EAAE,SAAS,OAAA,IAAW,YAAA;AAC5B,UAAM,UAAU,SAAS,MAAM,QAAQ,EAAE,CAAC;AAC1C,UAAM,OAAO,IAAI,IAAI;AAErB,QAAI,QAAQ,SAAuB,EAAE,MAAM,QAAQ,OAAO,QAAQ,IAAI,MAAM,QAAQ,OAAO,QAAQ,QAAQ,aAAa,QAAQ,OAAO,eAAe,IAAI,SAAS,QAAQ,OAAO,WAAW,GAAA,CAAI;AACjM,aAAS,SAAS,GAAiB;AAAE,aAAO,OAAO,OAAO,CAAC;AAAA,IAAE;AAC7D,UAAM,SAAS,CAAA,MAAK;AAAE,UAAI,CAAC,EAAG;AAAQ,YAAM,OAAO,EAAE;AAAM,YAAM,OAAO,EAAE;AAAM,YAAM,cAAc,EAAE;AAAa,YAAM,UAAU,EAAE;AAAA,IAAQ,GAAG,EAAE,WAAW,MAAM;AACnK,aAAS,eAAe;AAAE,aAAO,IAAI,EAAE,GAAG,OAAO;AAAG,iBAAW,WAAW;AAAA,IAAE;AAC5E,aAAS,cAAc;AAAE,iBAAW,WAAW;AAAA,IAAE;;;UA1BlC,QAAA,OAAO;;UAAG,MAAM,KAAA;AAAA,UAAM,OAAM;AAAA,UAAgB,SAAO;AAAA,QAAA;2BAAhE,CAEQ,GAAAA,QAAAC,UAAA,aAAA;;;gBADQ,eAAaC,MAAA,KAAA;AAAA,gBAAQ,uBAAoB;AAAA,gBAAW,UAAQ;AAAA,gBAAe,UAAQ;AAAA,cAAA;;;gBAAjGC,YAAgHC,aAAA;AAAA,kBAAlG,eAAaF,MAAA,KAAA;AAAA,kBAAQ,uBAAoB;AAAA,kBAAW,UAAQ;AAAA,kBAAe,UAAQ;AAAA,gBAAA;;;;;;;AAE1F,cAAA,WAAAG,eAAAC,WAAA,EAAA,OAAM,UAAM,MAAA,CAAA,CAAA,kEAAA;;UAEY,IAAG;AAAA,UAAY,OAAM;AAAA,QAAA;2BAA/B,CAAoD,GAAAN,QAAAC,UAAA,aAAA;;;;;gCAAf,MAAI;AAAA,cAAA;AAAA;;;;;;;;;;;;;;;","names":["_push","_parent","_unref","_createVNode","SubjectForm","_ssrRenderAttrs","_mergeProps"],"sources":["../../../../pages/subjects/edit/[id].vue"],"sourcesContent":["<template>\n  <Popup v-if=\"subject\" :open=\"open\" title=\"Edit Subject\" @close=\"handleClose\">\n    <SubjectForm :model-value=\"model\" @update:model-value=\"onUpdate\" @submit=\"handleUpdate\" @cancel=\"handleClose\" />\n  </Popup>\n  <section class=\"card\" v-else>\n    <div class=\"muted\">Subject not found</div>\n    <div class=\"toolbar\"><NuxtLink to=\"/subjects\" class=\"btn\">Back</NuxtLink></div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRoute } from 'vue-router'\nimport { computed, reactive, ref, watch } from 'vue'\nimport Popup from '~/components/Popup.vue'\nimport SubjectForm from '~/components/SubjectForm.vue'\nimport { useSubjects } from '~/composables/useSubjects'\nimport { navigateTo } from 'nuxt/app'\nconst route = useRoute()\nconst id = route.params.id as string\nconst { getById, update } = useSubjects()\nconst subject = computed(() => getById(id))\nconst open = ref(true)\ntype SubjectModel = { name: string; code: string; description: string; teacher: string }\nlet model = reactive<SubjectModel>({ name: subject.value?.name || '', code: subject.value?.code || 'SUBJ', description: subject.value?.description || '', teacher: subject.value?.teacher || '' })\nfunction onUpdate(v: SubjectModel) { Object.assign(model, v) }\nwatch(subject, s => { if (!s) return; model.name = s.name; model.code = s.code; model.description = s.description; model.teacher = s.teacher }, { immediate: true })\nfunction handleUpdate() { update(id, { ...model }); navigateTo('/subjects') }\nfunction handleClose() { navigateTo('/subjects') }\n</script>\n"],"version":3}