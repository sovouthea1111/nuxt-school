{"file":"index-BaHsOEeu.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_push","_parent","_unref","_createVNode","StudentForm"],"sources":["../../../../pages/students/index.vue"],"sourcesContent":["<template>\n  <section class=\"card\">\n    <div class=\"toolbar\">\n      <input v-model=\"q\" class=\"input\" placeholder=\"Search name or guardian\" />\n      <select v-model=\"grade\" class=\"select\" style=\"max-width:180px\">\n        <option value=\"\">All Grades</option>\n        <option>Grade 1</option>\n        <option>Grade 2</option>\n        <option>Grade 3</option>\n        <option>Grade 4</option>\n        <option>Grade 5</option>\n        <option>Grade 6</option>\n      </select>\n      <select v-model=\"gender\" class=\"select\" style=\"max-width:160px\">\n        <option value=\"\">All Genders</option>\n        <option>Female</option>\n        <option>Male</option>\n      </select>\n      <div class=\"spacer\"></div>\n      <button class=\"btn\" @click=\"openCreate\">Add Student</button>\n    </div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Gender</th>\n          <th>Grade</th>\n          <th>Age</th>\n          <th>Guardian</th>\n          <th>Enrolled</th>\n          <th class=\"actions\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"s in filtered\" :key=\"s.id\">\n          <td>{{ s.name }}</td>\n          <td><span class=\"badge\">{{ s.gender }}</span></td>\n          <td>{{ s.grade }}</td>\n          <td>{{ s.age }}</td>\n          <td>{{ s.guardian }}</td>\n          <td>{{ formatDate(s.enrollmentDate) }}</td>\n          <td class=\"actions\">\n            <button class=\"btn secondary\" @click=\"openEdit(s.id)\">Edit</button>\n            <button class=\"btn danger\" @click=\"handleDelete(s.id)\">Delete</button>\n          </td>\n        </tr>\n        <tr v-if=\"filtered.length === 0\">\n          <td colspan=\"7\" class=\"muted\">No students found</td>\n        </tr>\n      </tbody>\n    </table>\n    <Popup :open=\"showCreate\" title=\"Add Student\" @close=\"closeModal\">\n      <StudentForm :model-value=\"createModel\" @update:model-value=\"onUpdateCreate\" @submit=\"handleCreate\" />\n    </Popup>\n    <Popup :open=\"showEdit\" title=\"Edit Student\" @close=\"closeModal\">\n      <StudentForm :model-value=\"editModel\" @update:model-value=\"onUpdateEdit\" @submit=\"handleUpdate\" />\n    </Popup>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, reactive } from 'vue'\nimport { useStudents } from '~/composables/useStudents'\nimport Popup from '~/components/Popup.vue'\nimport StudentForm from '~/components/StudentForm.vue'\nconst { students, remove, create, update, getById } = useStudents()\nconst q = ref('')\nconst grade = ref('')\nconst gender = ref('')\nconst filtered = computed(() => {\n  const v = q.value.trim().toLowerCase()\n  return students.value.filter(s => {\n    const matchesText = !v || s.name.toLowerCase().includes(v) || s.guardian.toLowerCase().includes(v)\n    const matchesGrade = !grade.value || s.grade === grade.value\n    const matchesGender = !gender.value || s.gender === gender.value\n    return matchesText && matchesGrade && matchesGender\n  })\n})\ntype StudentModel = {\n  name: string\n  gender: string\n  grade: string\n  age: number\n  guardian: string\n  enrollmentDate: string\n  address: string\n}\nconst showCreate = ref(false)\nconst showEdit = ref(false)\nconst editId = ref<string | null>(null)\nlet createModel = reactive<StudentModel>({\n  name: '',\n  gender: 'Female',\n  grade: 'Grade 1',\n  age: 6,\n  guardian: '',\n  enrollmentDate: new Date().toISOString().slice(0, 10),\n  address: ''\n})\nlet editModel = reactive<StudentModel>({\n  name: '',\n  gender: 'Female',\n  grade: 'Grade 1',\n  age: 6,\n  guardian: '',\n  enrollmentDate: new Date().toISOString().slice(0, 10),\n  address: ''\n})\nfunction openCreate() {\n  showCreate.value = true\n}\nfunction openEdit(id: string) {\n  const s = getById(id)\n  if (!s) return\n  editId.value = id\n  editModel.name = s.name\n  editModel.gender = s.gender\n  editModel.grade = s.grade\n  editModel.age = s.age\n  editModel.guardian = s.guardian\n  editModel.enrollmentDate = s.enrollmentDate.slice(0, 10)\n  editModel.address = s.address\n  showEdit.value = true\n}\nfunction closeModal() {\n  showCreate.value = false\n  showEdit.value = false\n}\nfunction onUpdateCreate(v: StudentModel) {\n  Object.assign(createModel, v)\n}\nfunction onUpdateEdit(v: StudentModel) {\n  Object.assign(editModel, v)\n}\nfunction handleDelete(id: string) {\n  remove(id)\n}\nfunction formatDate(d: string) {\n  return new Date(d).toLocaleDateString()\n}\nfunction handleCreate() {\n  create({ ...createModel })\n  closeModal()\n}\nfunction handleUpdate() {\n  if (!editId.value) return\n  update(editId.value, { ...editModel })\n  closeModal()\n}\n</script>\n"],"version":3}