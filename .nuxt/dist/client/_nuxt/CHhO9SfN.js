import{g as h,k as c,j as m,c as r,a as e,l as p,v,m as k,F as w,r as y,o as u,t as o}from"./DIz7m-9I.js";import{u as _}from"./D9vpsezn.js";import{u as C}from"./B5aj7jcg.js";import"./CuQSOrhc.js";const F={class:"card"},N={class:"toolbar"},V={class:"table"},j={class:"badge"},B={key:0},O=h({__name:"index",setup(E){const{grades:f}=_(),{students:b}=C();function g(l){return b.value.find(t=>t.id===l)?.name||"Unknown"}const i=new Date,s=c(new Date(i.getFullYear(),i.getMonth(),1).toISOString().slice(0,10)),a=c(""),d=m(()=>f.value.filter(l=>{const t=l.date.slice(0,10),n=!s.value||t>=s.value,S=!a.value||t<=a.value;return n&&S}).sort((l,t)=>t.score-l.score||t.date.localeCompare(l.date)));m(()=>{const l=d.value;return l.length===0?0:Math.round(l.reduce((t,n)=>t+n.score,0)/l.length)});function x(l){return new Date(l).toLocaleDateString()}function D(){s.value="",a.value=""}return(l,t)=>(u(),r("section",F,[t[5]||(t[5]=e("h2",{class:"title"},"Exams Overview",-1)),e("div",N,[p(e("input",{class:"date",type:"date","onUpdate:modelValue":t[0]||(t[0]=n=>s.value=n)},null,512),[[v,s.value]]),p(e("input",{class:"date",type:"date","onUpdate:modelValue":t[1]||(t[1]=n=>a.value=n)},null,512),[[v,a.value]]),t[2]||(t[2]=e("div",{class:"spacer"},null,-1)),e("button",{class:"btn secondary",onClick:D},"Clear")]),e("table",V,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",null,"Date"),e("th",null,"Student"),e("th",null,"Subject"),e("th",null,"Exam"),e("th",null,"Score")])],-1)),e("tbody",null,[(u(!0),r(w,null,y(d.value,n=>(u(),r("tr",{key:n.id},[e("td",null,o(x(n.date)),1),e("td",null,o(g(n.studentId)),1),e("td",null,o(n.subject),1),e("td",null,o(n.exam),1),e("td",null,[e("span",j,o(n.score),1)])]))),128)),d.value.length===0?(u(),r("tr",B,[...t[3]||(t[3]=[e("td",{colspan:"5",class:"muted"},"No exam results",-1)])])):k("",!0)])])]))}});export{O as default};
