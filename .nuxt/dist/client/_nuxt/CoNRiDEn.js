import{g as A,k as r,j as G,q as _,c as d,a as e,b as u,l as L,v as R,m as q,F,r as I,w as C,o as i,t as s,y as b}from"./DIz7m-9I.js";import{_ as g}from"./Kk_-GCaK.js";import{u as O,_ as k}from"./BCM4KuS_.js";import"./CuQSOrhc.js";const T={class:"card"},z={class:"toolbar"},H={class:"table"},J={class:"badge"},K={class:"actions"},P=["onClick"],Q=["onClick"],W={key:0},ne=A({__name:"index",setup(X){const{classes:$,create:w,update:y,remove:x,getById:E}=O(),c=r(""),h=G(()=>{const n=c.value.trim().toLowerCase();return $.value.filter(t=>{const a=`${t.name} ${t.grade} ${t.section} ${t.teacher} ${t.room}`.toLowerCase();return!n||a.includes(n)})}),m=r(!1),p=r(!1),f=r(null);let v=_({name:"",grade:"Grade 1",section:"Red",teacher:"",room:""}),o=_({name:"",grade:"Grade 1",section:"Red",teacher:"",room:""});function U(){m.value=!0}function V(n){const t=E(n);t&&(f.value=n,o.name=t.name,o.grade=t.grade,o.section=t.section,o.teacher=t.teacher,o.room=t.room,p.value=!0)}function l(){m.value=!1,p.value=!1}function N(n){Object.assign(v,n)}function S(n){Object.assign(o,n)}function B(){w({...v}),l()}function D(){f.value&&(y(f.value,{...o}),l())}function M(n){x(n)}return(n,t)=>(i(),d("section",T,[e("div",z,[L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>c.value=a),class:"input",placeholder:"Search name, grade, teacher or room"},null,512),[[R,c.value]]),t[1]||(t[1]=e("div",{class:"spacer"},null,-1)),e("button",{class:"btn",onClick:U},"Add Class")]),e("table",H,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Grade"),e("th",null,"Section"),e("th",null,"Teacher"),e("th",null,"Room"),e("th",{class:"actions"},"Actions")])],-1)),e("tbody",null,[(i(!0),d(F,null,I(h.value,a=>(i(),d("tr",{key:a.id},[e("td",null,s(a.name),1),e("td",null,[e("span",J,s(a.grade),1)]),e("td",null,s(a.section),1),e("td",null,s(a.teacher),1),e("td",null,s(a.room),1),e("td",K,[e("button",{class:"btn secondary",onClick:j=>V(a.id)},"Edit",8,P),e("button",{class:"btn danger",onClick:j=>M(a.id)},"Delete",8,Q)])]))),128)),h.value.length===0?(i(),d("tr",W,[...t[2]||(t[2]=[e("td",{colspan:"6",class:"muted"},"No classes found",-1)])])):q("",!0)])]),u(g,{open:m.value,title:"Add Class",onClose:l},{default:C(()=>[u(k,{"model-value":b(v),"onUpdate:modelValue":N,onSubmit:B,onCancel:l},null,8,["model-value"])]),_:1},8,["open"]),u(g,{open:p.value,title:"Edit Class",onClose:l},{default:C(()=>[u(k,{"model-value":b(o),"onUpdate:modelValue":S,onSubmit:D,onCancel:l},null,8,["model-value"])]),_:1},8,["open"])]))}});export{ne as default};
