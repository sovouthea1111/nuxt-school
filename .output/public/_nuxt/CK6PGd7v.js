import{g,k as y,j as d,c as r,a as e,l as j,v as k,m as M,F as B,r as C,o as u,t as n}from"./DIz7m-9I.js";import{u as E}from"./D9vpsezn.js";import"./CuQSOrhc.js";import"./B5aj7jcg.js";const $={class:"card"},F={class:"toolbar"},L={class:"table"},N={class:"badge"},V={key:0},T=g({__name:"reports",setup(A){const{grades:i}=E(),c=y(""),p=d(()=>{const a=c.value.trim().toLowerCase();return i.value.filter(s=>{const t=`${s.exam} ${s.subject}`.toLowerCase();return!a||t.includes(a)})}),m=d(()=>{const a=new Map;return p.value.forEach(s=>{const t=`${s.exam}::${s.subject}`,o=a.get(t)||[];o.push(s.score),a.set(t,o)}),Array.from(a.entries()).map(([s,t])=>{const[o,v]=s.split("::"),l=t.length,h=l?Math.round(t.reduce((_,f)=>_+f,0)/l):0,x=l?Math.max(...t):0,b=l?Math.min(...t):0;return{key:s,exam:o,subject:v,count:l,avg:h,max:x,min:b}}).sort((s,t)=>t.avg-s.avg)});return(a,s)=>(u(),r("section",$,[e("div",F,[j(e("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),placeholder:"Filter by exam or subject"},null,512),[[k,c.value]])]),e("table",L,[s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Exam"),e("th",null,"Subject"),e("th",null,"Entries"),e("th",null,"Average"),e("th",null,"Best"),e("th",null,"Worst")])],-1)),e("tbody",null,[(u(!0),r(B,null,C(m.value,t=>(u(),r("tr",{key:t.key},[e("td",null,n(t.exam),1),e("td",null,n(t.subject),1),e("td",null,n(t.count),1),e("td",null,[e("span",N,n(t.avg),1)]),e("td",null,n(t.max),1),e("td",null,n(t.min),1)]))),128)),m.value.length===0?(u(),r("tr",V,[...s[1]||(s[1]=[e("td",{colspan:"6",class:"muted"},"No exam data",-1)])])):M("",!0)])])]))}});export{T as default};
