import{g as q,k as o,j as T,q as G,c as i,a as e,b as c,l as h,v as z,A as D,m as H,F as J,r as K,w as S,o as m,t as d,y as w}from"./DIz7m-9I.js";import{u as P}from"./B5aj7jcg.js";import{_ as k}from"./Kk_-GCaK.js";import{_ as x}from"./CrtajMf7.js";import"./CuQSOrhc.js";import"./XkZrQS6C.js";const Q={class:"card"},R={class:"toolbar"},W={class:"table"},X={class:"badge"},Y={class:"actions"},Z=["onClick"],ee=["onClick"],te={key:0},ue=q({__name:"index",setup(ne){const{students:y,remove:U,create:V,update:A,getById:E}=P(),p=o(""),s=o(""),r=o(""),_=T(()=>{const l=p.value.trim().toLowerCase();return y.value.filter(t=>{const n=!l||t.name.toLowerCase().includes(l)||t.guardian.toLowerCase().includes(l),b=!s.value||t.grade===s.value,j=!r.value||t.gender===r.value;return n&&b&&j})}),v=o(!1),g=o(!1),f=o(null);let C=G({name:"",gender:"Female",grade:"Grade 1",age:6,guardian:"",enrollmentDate:new Date().toISOString().slice(0,10),address:""}),a=G({name:"",gender:"Female",grade:"Grade 1",age:6,guardian:"",enrollmentDate:new Date().toISOString().slice(0,10),address:""});function M(){v.value=!0}function F(l){const t=E(l);t&&(f.value=l,a.name=t.name,a.gender=t.gender,a.grade=t.grade,a.age=t.age,a.guardian=t.guardian,a.enrollmentDate=t.enrollmentDate.slice(0,10),a.address=t.address,g.value=!0)}function u(){v.value=!1,g.value=!1}function L(l){Object.assign(C,l)}function N(l){Object.assign(a,l)}function B(l){U(l)}function I(l){return new Date(l).toLocaleDateString()}function O(){V({...C}),u()}function $(){f.value&&(A(f.value,{...a}),u())}return(l,t)=>(m(),i("section",Q,[e("div",R,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>p.value=n),class:"input",placeholder:"Search name or guardian"},null,512),[[z,p.value]]),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.value=n),class:"select",style:{"max-width":"180px"}},[...t[3]||(t[3]=[e("option",{value:""},"All Grades",-1),e("option",null,"Grade 1",-1),e("option",null,"Grade 2",-1),e("option",null,"Grade 3",-1),e("option",null,"Grade 4",-1),e("option",null,"Grade 5",-1),e("option",null,"Grade 6",-1)])],512),[[D,s.value]]),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.value=n),class:"select",style:{"max-width":"160px"}},[...t[4]||(t[4]=[e("option",{value:""},"All Genders",-1),e("option",null,"Female",-1),e("option",null,"Male",-1)])],512),[[D,r.value]]),t[5]||(t[5]=e("div",{class:"spacer"},null,-1)),e("button",{class:"btn",onClick:M},"Add Student")]),e("table",W,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Gender"),e("th",null,"Grade"),e("th",null,"Age"),e("th",null,"Guardian"),e("th",null,"Enrolled"),e("th",{class:"actions"},"Actions")])],-1)),e("tbody",null,[(m(!0),i(J,null,K(_.value,n=>(m(),i("tr",{key:n.id},[e("td",null,d(n.name),1),e("td",null,[e("span",X,d(n.gender),1)]),e("td",null,d(n.grade),1),e("td",null,d(n.age),1),e("td",null,d(n.guardian),1),e("td",null,d(I(n.enrollmentDate)),1),e("td",Y,[e("button",{class:"btn secondary",onClick:b=>F(n.id)},"Edit",8,Z),e("button",{class:"btn danger",onClick:b=>B(n.id)},"Delete",8,ee)])]))),128)),_.value.length===0?(m(),i("tr",te,[...t[6]||(t[6]=[e("td",{colspan:"7",class:"muted"},"No students found",-1)])])):H("",!0)])]),c(k,{open:v.value,title:"Add Student",onClose:u},{default:S(()=>[c(x,{"model-value":w(C),"onUpdate:modelValue":L,onSubmit:O},null,8,["model-value"])]),_:1},8,["open"]),c(k,{open:g.value,title:"Edit Student",onClose:u},{default:S(()=>[c(x,{"model-value":w(a),"onUpdate:modelValue":N,onSubmit:$},null,8,["model-value"])]),_:1},8,["open"])]))}});export{ue as default};
