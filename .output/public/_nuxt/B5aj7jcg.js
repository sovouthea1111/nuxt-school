import{k as S}from"./DIz7m-9I.js";import{u as f}from"./CuQSOrhc.js";function c(){return[{id:r(),name:"Sophea Chan",gender:"Female",grade:"Grade 3",age:9,guardian:"Chan Dara",enrollmentDate:new Date("2023-10-01").toISOString(),address:"Phnom Penh"},{id:r(),name:"Vannak Sok",gender:"Male",grade:"Grade 2",age:8,guardian:"Sok Lina",enrollmentDate:new Date("2024-01-15").toISOString(),address:"Siem Reap"},{id:r(),name:"Sreyneang Kim",gender:"Female",grade:"Grade 1",age:7,guardian:"Kim Phalla",enrollmentDate:new Date("2024-05-20").toISOString(),address:"Battambang"}]}function r(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}function I(){const n=f("students",()=>[]),o=S(!1);if(!o.value){const e=localStorage.getItem("students");n.value=e?JSON.parse(e):c(),o.value=!0}function i(){localStorage.setItem("students",JSON.stringify(n.value))}function d(){return n.value}function u(e){return n.value.find(t=>t.id===e)}function l(e){n.value.push({id:r(),...e,enrollmentDate:new Date(e.enrollmentDate).toISOString()}),i()}function s(e,t){const a=n.value.findIndex(m=>m.id===e);a!==-1&&(n.value[a]={id:e,...t,enrollmentDate:new Date(t.enrollmentDate).toISOString()},i())}function g(e){const t=n.value.findIndex(a=>a.id===e);t!==-1&&(n.value.splice(t,1),i())}return{students:n,list:d,getById:u,create:l,update:s,remove:g}}export{I as u};
