import{_ as F}from"./edhFxwOM.js";import{g as B,D as M,E as P,P as L,G as d,B as V,z as q,i as H,L as z,H as A,q as D,I as U,J as k,K as N,M as S,N as G,O as J,Q,S as W,R as X,T as Y,U as Z,F as $,_ as ee,c as te,o as ne,a as v,b as h,w,d as O}from"./BJwfoTqO.js";const I=(a="RouteProvider")=>B({name:a,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,o={};for(const i in e.route)Object.defineProperty(o,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return M(L,P(o)),()=>e.vnode?d(e.vnode,{ref:e.vnodeRef}):e.vnode}}),oe=I(),j=new WeakMap,ae=B({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(a,{attrs:e,slots:n,expose:r}){const o=V(),i=q(),u=H(L,null);let R;r({pageRef:i});const l=H(z,null);let s;const y=o.deferHydration();if(o.isHydrating){const t=o.hooks.hookOnce("app:error",y);A().beforeEach(t)}a.pageKey&&D(()=>a.pageKey,(t,p)=>{t!==p&&o.callHook("page:loading:start")});let c=!1;{const t=A().beforeResolve(()=>{c=!1});U(()=>{t()})}return()=>d(X,{name:a.name,route:a.route,...e},{default:t=>{const p=ie(u,t.route,t.Component),x=u&&u.matched.length===t.route.matched.length;if(!t.Component){if(s&&!x)return s;y();return}if(s&&l&&!l.isCurrent(t.route))return s;if(p&&u&&(!l||l?.isCurrent(u)))return x?s:null;const f=k(t,a.pageKey),b=se(u,t.route,t.Component);!o.isHydrating&&R===f&&!b&&N(()=>{c=!0,o.callHook("page:loading:end")}),R=f;const m=!!(a.transition??t.route.meta.pageTransition??S),E=m&&re([a.transition,t.route.meta.pageTransition,S,{onAfterLeave(){delete o._runningTransition,o.callHook("page:transition:finish",t.Component)}}]),C=a.keepalive??t.route.meta.keepalive??G;return s=J(m&&E,Q(C,d(W,{suspensible:!0,onPending:()=>{m&&(o._runningTransition=!0),o.callHook("page:start",t.Component)},onResolve:async()=>{await N();try{o._route.sync?.(),await o.callHook("page:finish",t.Component),delete o._runningTransition,!c&&!b&&(c=!0,await o.callHook("page:loading:end"))}finally{y()}}},{default:()=>{const K={key:f||void 0,vnode:n.default?de(n.default,t):t.Component,route:t.route,renderKey:f||void 0,trackRootNodes:m,vnodeRef:i};if(!C)return d(oe,K);const _=t.Component.type,T=_;let g=j.get(T);return g||(g=I(_.name||_.__name),j.set(T,g)),d(g,K)}}))).default(),s}})}});function re(a){const e=[];for(const n of a)n&&e.push({...n,onAfterLeave:n.onAfterLeave?Y(n.onAfterLeave):void 0});return Z(...e)}function ie(a,e,n){if(!a)return!1;const r=e.matched.findIndex(o=>o.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((o,i)=>o.components?.default!==a.matched[i]?.components?.default)||n&&k({route:e,Component:n})!==k({route:a,Component:n})}function se(a,e,n){return a?e.matched.findIndex(o=>o.components?.default===n?.type)<e.matched.length-1:!1}function de(a,e){const n=a(e);return n.length===1?d(n[0]):d($,void 0,n)}const ue={},le={class:"app"},ce={class:"header"},fe={class:"nav"},me={class:"container"};function ge(a,e){const n=F,r=ae;return ne(),te("div",le,[v("header",ce,[e[2]||(e[2]=v("h1",null,"Cambodia Primary School",-1)),v("nav",fe,[h(n,{to:"/"},{default:w(()=>[...e[0]||(e[0]=[O("Dashboard",-1)])]),_:1}),h(n,{to:"/students"},{default:w(()=>[...e[1]||(e[1]=[O("Students",-1)])]),_:1})])]),v("main",me,[h(r)])])}const pe=ee(ue,[["render",ge]]);export{pe as default};
