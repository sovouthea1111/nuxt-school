import{g as I,k as i,j as L,q as b,c as u,a as e,b as r,l as O,v as A,m as q,F,r as H,w as _,o as c,t as s,y as C}from"./DIz7m-9I.js";import{_ as D}from"./Kk_-GCaK.js";import{u as P,_ as g}from"./BhDFv3sB.js";import"./CuQSOrhc.js";const z={class:"card"},G={class:"toolbar"},J={class:"table"},K={class:"actions"},Q=["onClick"],R=["onClick"],W={key:0},ae=I({__name:"index",setup(X){const{teachers:j,create:k,update:w,remove:S,getById:y}=P(),d=i(""),v=L(()=>{const a=d.value.trim().toLowerCase();return j.value.filter(t=>{const n=`${t.name} ${t.subject} ${t.email}`.toLowerCase();return!a||n.includes(a)})}),m=i(!1),h=i(!1),p=i(null);let f=b({name:"",subject:"Mathematics",phone:"",email:"",hireDate:new Date().toISOString().slice(0,10),address:""}),l=b({name:"",subject:"Mathematics",phone:"",email:"",hireDate:new Date().toISOString().slice(0,10),address:""});function E(){m.value=!0}function $(a){const t=y(a);t&&(p.value=a,l.name=t.name,l.subject=t.subject,l.phone=t.phone,l.email=t.email,l.hireDate=t.hireDate.slice(0,10),l.address=t.address,h.value=!0)}function o(){m.value=!1,h.value=!1}function x(a){Object.assign(f,a)}function M(a){Object.assign(l,a)}function U(){k({...f}),o()}function V(){p.value&&(w(p.value,{...l}),o())}function N(a){S(a)}function T(a){return new Date(a).toLocaleDateString()}return(a,t)=>(c(),u("section",z,[e("div",G,[O(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>d.value=n),class:"input",placeholder:"Search name, subject or email"},null,512),[[A,d.value]]),t[1]||(t[1]=e("div",{class:"spacer"},null,-1)),e("button",{class:"btn",onClick:E},"Add Teacher")]),e("table",J,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Subject"),e("th",null,"Phone"),e("th",null,"Email"),e("th",null,"Hire Date"),e("th",{class:"actions"},"Actions")])],-1)),e("tbody",null,[(c(!0),u(F,null,H(v.value,n=>(c(),u("tr",{key:n.id},[e("td",null,s(n.name),1),e("td",null,s(n.subject),1),e("td",null,s(n.phone),1),e("td",null,s(n.email),1),e("td",null,s(T(n.hireDate)),1),e("td",K,[e("button",{class:"btn secondary",onClick:B=>$(n.id)},"Edit",8,Q),e("button",{class:"btn danger",onClick:B=>N(n.id)},"Delete",8,R)])]))),128)),v.value.length===0?(c(),u("tr",W,[...t[2]||(t[2]=[e("td",{colspan:"6",class:"muted"},"No teachers found",-1)])])):q("",!0)])]),r(D,{open:m.value,title:"Add Teacher",onClose:o},{default:_(()=>[r(g,{"model-value":C(f),"onUpdate:modelValue":x,onSubmit:U,onCancel:o},null,8,["model-value"])]),_:1},8,["open"]),r(D,{open:h.value,title:"Edit Teacher",onClose:o},{default:_(()=>[r(g,{"model-value":C(l),"onUpdate:modelValue":M,onSubmit:V,onCancel:o},null,8,["model-value"])]),_:1},8,["open"])]))}});export{ae as default};
